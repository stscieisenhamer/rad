%YAML 1.1
---
$schema: asdf://stsci.edu/datamodels/roman/schemas/rad_schema-1.0.0
id: asdf://stsci.edu/datamodels/roman/schemas/reference_files/pars-1.0.0

title: Pars File Schema

datamodel_name: ParsRefModel

type: object
properties:
  meta:
    allOf:
      - $ref: ref_common-1.0.0
      - type: object
        properties:
          reftype:
            type: string
            enum: [PARS, PARS-DARKCURRENTSTEP]
          instrument:
            type: object
            properties:
              p_detector:
                title: Detector for CRDS
                description: |
                  The potentially multiple mode strings applied to data for pars file matching in CRDS. Modes are separated by "|".
                type: string
                pattern: "^((WFI01|WFI02|WFI03|WFI04|WFI05|WFI06|WFI07|WFI08|WFI09|WFI10|WFI11|WFI12|WFI13|WFI14|WFI15|WFI16|WFI17|WFI18)\\s*\\|\\s*)+$"
              optical_element:
                title: Optical Element
                description: |
                  The optical element filter name.
                $ref: ../wfi_optical_element-1.0.0
              p_optical_element:
                title: Optical Element for CRDS
                description: |
                  The potentially multiple mode strings applied to data for pars file matching in CRDS. Modes are separated by "|".
                type: string
                pattern: "^((F062|F087|F106|F129|F146|F158|F184|F213|GRISM|PRISM|DARK)\\s*\\|\\s*)+$"
        required: [instrument]
      - $ref: ref_exposure_type-1.0.0
  class:
    title: Step Class Module
    description: |
      The class name pointing back to romancal (e.g. romancal.jump.JumpStep).
    type: string
  name:
    title: Step Class Name
    description: |
      The name of the class for which the pars file was created (e.g. JumpStep).
    type: string
  parameters:
    title: Step Parameters
    description: |
      Dictionary containing all the parameter names as keys and accompanying values.
    type: object
required: [meta, class, name, parameters]
flowStyle: block
propertyOrder: [meta, class, name, parameters]
...
